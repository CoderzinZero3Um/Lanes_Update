{"ast":null,"code":"import React,{useContext,useState}from\"react\";import{Button,Menu,MenuItem}from\"@material-ui/core\";import TranslateIcon from\"@material-ui/icons/Translate\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import{i18n}from\"../../translate/i18n\";import{AuthContext}from\"../../context/Auth/AuthContext\";import toastError from\"../../errors/toastError\";import api from\"../../services/api\";const UserLanguageSelector=()=>{const[langueMenuAnchorEl,setLangueMenuAnchorEl]=useState(null);const{user}=useContext(AuthContext);const handleOpenLanguageMenu=e=>{setLangueMenuAnchorEl(e.currentTarget);};const handleCloseLanguageMenu=()=>{setLangueMenuAnchorEl(null);};const handleChangeLanguage=async language=>{try{await i18n.changeLanguage(language);await api.put(\"/users/\".concat(user.id),{language});}catch(err){toastError(err);}handleCloseLanguageMenu();};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{color:\"inherit\",onClick:handleOpenLanguageMenu,startIcon:/*#__PURE__*/React.createElement(TranslateIcon,null),endIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null)},user.language?i18n.t(\"languages.\".concat(user.language)):i18n.t(\"languages.\".concat(user.undefined))),/*#__PURE__*/React.createElement(Menu,{anchorEl:langueMenuAnchorEl,keepMounted:true,open:Boolean(langueMenuAnchorEl),onClose:handleCloseLanguageMenu},/*#__PURE__*/React.createElement(MenuItem,{onClick:()=>handleChangeLanguage(\"pt-BR\")},i18n.t(\"languages.pt-BR\")),/*#__PURE__*/React.createElement(MenuItem,{onClick:()=>handleChangeLanguage(\"en\")},i18n.t(\"languages.en\")),/*#__PURE__*/React.createElement(MenuItem,{onClick:()=>handleChangeLanguage(\"es\")},i18n.t(\"languages.es\")),/*#__PURE__*/React.createElement(MenuItem,{onClick:()=>handleChangeLanguage(\"tr\")},i18n.t(\"languages.tr\"))));};export default UserLanguageSelector;","map":null,"metadata":{},"sourceType":"module"}